---
marp: true
headingDivider: 2
theme: 勉強会_早起き同好会
paginate: true
math: katex
---

# Webスクレイピングについて

<!-- _class: title -->
<!-- _paginate: false -->

### 早起き同好会勉強会

## 内容
　　
#### トラブルシューティング

- googleドライブのマウント周辺の処理が終わらない

#### 勉強会パート

- Webスクレイピングとは
- Webスクレイピングのリスク
- Webスクレイピングの手段
- 営業リスト作成プログラムの解説

## トラブルシューティング

#### googleドライブのマウント周辺の処理が終わらない

###### 動作検証

- 可能であれば不具合状況の再現をお願いします。

- [テレアポリスト作成ツール](https://colab.research.google.com/drive/1EZkC1tRD60KzuEpD0mRvLZ3lUp1NujWT?usp=sharing#scrollTo=-UwKNoQw1E6d)

# Webスクレイピングの概要

## Webスクレイピングとは

#### どんな技術？

Webスクレイピングとは、Webサイトから任意の情報を抽出、整形、解析するための自動化技術の総称。¥
「スクレイピング（scraping）」という言葉通り「こそぎ取る」ようにデータを抽出することを意味する。

#### 何のため？

主にデータ収集や分析、競合調査などの目的で行われる。現代では大量かつ多様なデータがWeb上に公開されており、またそれらを収集・分析・活用する技術も発展している事から、スクレイピングを行う事でビジネスに有効な洞察を得られる可能性が高まっている。

#### 活用事例

市場調査、行動分析、まとめサイトや比較サイト作成の為のデータ収集、営業先候補の抽出などなど

## Webスクレイピングを行うリスク

#### 合法性に関するリスク

- **著作権侵害** ：著作物の無断収集・使用による訴訟リスク
- **利用規約違反** ：利用規約を無視した不正アクセスによる訴訟リスク

###### 対策：利用規約の確認、
- **許可の取得:** 必要に応じて、ウェブサイトの運営者からスクレイピングに関する許可を正式に取得します。

#### 倫理に関するリスク

- **プライバシー侵害:** 個人情報の無断収集は、プライバシーの侵害となり、社会的信用の失墜や法的責任を問われることがあります。
- **過剰なサーバ負荷:** 高頻度でのスクレイピングは対象サーバに過剰な負荷をかけ、サービス障害の原因となり得ます。

**対策:**
- **個人情報の扱いに注意:** 収集するデータが個人情報に該当しないか慎重に確認し、収集した個人情報は適切に保護し、必要最低限の期間のみ保持します。
- **アクセス頻度の調整:** サーバに過負荷をかけないよう、リクエストの間隔を調整し、可能な限りAPIを利用するなどして、責任あるスクレイピングを心がけます。

---
基本的な考え方

- スクレイピングの対象はWebサイトに掲載・公開されている情報であり、情報を取得するためのWebリクエストも <font color="#ff0000"> Webブラウザが情報を取得して表示するのと同等の処理</font>であるため、情報の収集自体については違法性はない。
- テレアポリスト作成の為に収集する情報（企業名、所在地、連絡先など）は著作物とは認められない為、<font color="#ff0000">著作権</font>法に抵触しない。
- 各サイトの対応については、<font color="#ff0000">利用規約</font>で禁止されていないかどうかを確認する。（スクレイピングを明示的に推奨、許可しているサイトはほぼ無い。）
- データ取得の<font color="#ff0000">リクエスト頻度</font>については注意して設定する。（サーバーに過剰な負荷をかけることで、偽計業務妨害となる可能性がある）一般に、数秒に１回程度のリクエストであれば問題ないとされている様です。

# Webスクレイピングの手法

## Webスクレイピングの手段

#### スクレイピングツール（ノーコード）

- [Octoparse](https://www.octoparse.jp/)、[ParseHub](https://www.parsehub.com/)、[Import.io](https://www.import.io/)などが人気。
- GUI操作でプログラミングの知識がなくてもWebスクレイピングができる事が大きなメリット。ただし、高度な処理はやはり操作が煩雑となる事や、かつ無料での使用には制限があることが多い。

#### プログラミング

- 無料で高度な処理を行う事が可能。
- 扱うプログラミング言語やライブラリの知識やスキルが必要となる。
- Python、JavaScript (Node.js)、Ruby、PHPがWebスクレイピングに向いている言語と言われている。
- Pythonは ①シンプルな構文でプログラミング初心者にも扱い易い ②Webスクレイピングに特化した強力なライブラリが豊富 ③機械学習やデータ分析と組み合わせた処理も容易などの特徴がある。

## WebスクレイピングのためのPythonライブラリ　1/2

###### requests

HTTPリクエストを行いWebサイトのコンテンツを取得したり、APIと通信する際に使用されます。

###### Beautiful soup 4

HTMLやXMLファイルからデータを抽出するためのライブラリ、タグの検索やデータの抽出を簡単に行うことができる。requestsと組み合わせて使用される事が多い。

###### Selenium

Webブラウザの自動化ツール。ブラウザの自動操作などに使用される。様々なブラウザでのスクリプト実行をサポートしている。

## WebスクレイピングのためのPythonライブラリ　2/2

###### Playwrite

Microsoftによる、ブラウザ自動化のためのライブラリ。Seleniumよりも現代的なAPIと多機能性を提供します。複数のブラウザでのクロスブラウザテストに適している。

###### その他

Lxml： 高速なXML/HTML処理ライブラリ\
Scrapy： 強力なクローリングフレームワーク\
PyQuery： jQuery風のHTML解析ライブラリ

## Webスクレイピングの流れ

# プログラム動作解説

## 営業リスト作成プログラムの解説
