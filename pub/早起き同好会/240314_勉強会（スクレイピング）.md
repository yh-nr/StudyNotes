---
marp: true
headingDivider: 2
theme: 勉強会_早起き同好会
paginate: true
math: katex
---

# Webスクレイピングについて

<!-- _class: title -->
<!-- _paginate: false -->

### 早起き同好会勉強会

## 内容
　　
#### トラブルシューティング

- GoogleDriveのマウント

#### 勉強会パート

- Webスクレイピングとは
- Webスクレイピングのリスク
- Webスクレイピングの手段
- 営業リスト作成プログラムの解説

## トラブルシューティング

#### googleドライブのマウント辺りの処理が終わらない

## Webスクレイピングとは

#### どんな技術？

Webスクレイピングとは、Webサイトから任意の情報を抽出、整形、解析するための自動化技術の総称。¥
「スクレイピング（scraping）」という言葉通り「こそぎ取る」ようにデータを抽出することを意味する。

#### 何のため？

主にデータ収集や分析、競合調査などの目的で行われる。現代では大量かつ多様なデータがWeb上に公開されており、またそれらを収集・分析・活用する技術も発展している事から、スクレイピングを行う事でビジネスに有効な洞察を得られる可能性が高まっている。

#### 活用事例

市場調査、行動分析、まとめサイトや比較サイト作成の為のデータ収集、営業先候補の抽出などなど

## Webスクレイピングを行うリスク

---

## Webスクレイピングの手段

#### スクレイピングツール（ノーコード）

- [Octoparse](https://www.octoparse.jp/)、[ParseHub](https://www.parsehub.com/)、[Import.io](https://www.import.io/)などが人気。
- GUI操作でプログラミングの知識がなくてもWebスクレイピングができる事が大きなメリット。ただし、高度な処理はやはり操作が煩雑となる事や、かつ無料での使用には制限があることが多い。

#### プログラミング

- 無料で高度な処理を行う事が可能。
- 扱うプログラミング言語やライブラリの知識やスキルが必要となる。
- Python、JavaScript (Node.js)、Ruby、PHPがWebスクレイピングに向いている言語と言われている。
- Pythonは ①シンプルな構文でプログラミング初心者にも扱い易い ②Webスクレイピングに特化した強力なライブラリが豊富 ③機械学習やデータ分析と組み合わせた処理も容易などの特徴がある。

## WebスクレイピングのためのPythonライブラリ　1/2

###### requests

HTTPリクエストを行いWebサイトのコンテンツを取得したり、APIと通信する際に使用されます。

###### Beautiful soup 4

HTMLやXMLファイルからデータを抽出するためのライブラリ、タグの検索やデータの抽出を簡単に行うことができる。requestsと組み合わせて使用される事が多い。

###### Selenium

Webブラウザの自動化ツール。ブラウザの自動操作などに使用される。様々なブラウザでのスクリプト実行をサポートしている。

## WebスクレイピングのためのPythonライブラリ　2/2

###### Playwrite

Microsoftによる、ブラウザ自動化のためのライブラリ。Seleniumよりも現代的なAPIと多機能性を提供します。複数のブラウザでのクロスブラウザテストに適している。

###### その他

Lxml： 高速なXML/HTML処理ライブラリ\
Scrapy： 強力なクローリングフレームワーク\
PyQuery： jQuery風のHTML解析ライブラリ

## Webスクレイピングの流れ

## 営業リスト作成プログラムの解説

## 基本的な考え方

#### テスト

- スクレイピングの対象はWebサイトに掲載・公開されている情報であり、情報を取得するためのWebリクエストも <font color="#ff0000"> Webブラウザが情報を取得して表示するのと同等の処理</font>であるため、情報の収集自体については違法性はない。
- テレアポリスト作成の為に収集する情報（企業名、所在地、連絡先など）は著作物とは認められない為、<font color="#ff0000">著作権</font>法に抵触しない。
- 各サイトの対応については、<font color="#ff0000">利用規約</font>で禁止されていないかどうかを確認する。（スクレイピングを明示的に推奨、許可しているサイトはほぼ無い。）
- データ取得の<font color="#ff0000">リクエスト頻度</font>については注意して設定する。（サーバーに過剰な負荷をかけることで、偽計業務妨害となる可能性がある）一般に、数秒に１回程度のリクエストであれば問題ないとされている様です。

## 各サイト利用規約について

| サイト | 規約内容 |
| --- | --- |
|[リクナビ2024](https://cdn.p.recruit.co.jp/terms/rng-t-1013/index.html) | スクレイピングを禁止する記述はなし |
|[リクナビ2025](https://cdn.p.recruit.co.jp/terms/r25-t-1001/index.html)|スクレイピングを禁止する記述はなし|
|[マイナビ2024](https://job.mynavi.jp/conts/2024/kiyaku/)|スクレイピングを禁止する記述はなし|
|[マイナビ2025](https://job.mynavi.jp/conts/2025/kiyaku/)|スクレイピングを禁止する記述はなし|
|福山・府中 企業ガイド|利用規約なし|

## Robots.txtの記述

robots.txt は、検索エンジンのクローラーに対してサイトのどの URL にアクセスして良いかを指示するもの。Webスクレイピングでも、これに従うのがマナーの様です。

| サイト| 内容 |
| ---- | ---- |
| リクナビ<br> https://job.rikunabi.com/robots.txt | 各企業の情報ページを禁止する記述は無し |
| マイナビ<br> https://job.mynavi.jp/robots.txt | 各企業の情報ページを禁止する記述は無し<br>Crawl-delay:120を指定やらない方が無難かも |
| 福山・府中企業ガイド<br> https://ffcity-gbook.jp/robots.txt | Wordpressの管理者ページのみ禁止<br> |

## まとめ

- リクナビと福山・府中企業ガイドはスクレイピングをしても問題ない様に思います。
- マイナビは、利用規約では禁止されていないものの、クローラーに対して120秒の間隔を開けてのページ取得を指示している事から、プログラムを使用する事で接続を遮断されるなどのリスクはあるかも知れません。
